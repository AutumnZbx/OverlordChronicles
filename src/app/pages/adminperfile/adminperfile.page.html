<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Administrar Perfiles</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-list>
    <ion-card *ngFor="let user of users" class="user-card">
      <ion-card-header class="user-header">
        <ion-avatar>
          <ion-img [src]="user.foto_perfil" alt="User Profile"></ion-img>
        </ion-avatar>
      </ion-card-header>

      <ion-card-content class="user-content">
        <div class="user-field">
          <label class="field-label">User ID:</label>
          <p>{{ user.id_usuario }}</p>
        </div>

        <div class="user-field">
          <label class="field-label">Username:</label>
          <p>{{ user.nombre_usuario }}</p>
        </div>

        <div class="user-field">
          <label class="field-label">Email:</label>
          <p>{{ user.email }}</p>
        </div>
        <div class="user-field">
          <label class="field-label">Role:</label>
          <p>{{ user.id_rol === 1 ? 'Admin' : 'Usuario' }}</p> 
        </div>
      </ion-card-content>

      <div class="action-buttons">
        <ion-button class="custom-button admin-button" (click)="makeAdmin(user.id_usuario)">
          Make Admin
        </ion-button>
        <ion-button class="custom-button delete-button" (click)="confirmDeleteUser(user.id_usuario)">
          Delete User
        </ion-button>
      </div>
    </ion-card>
  </ion-list>

  <p *ngIf="users.length === 0" class="no-users-message">No users available.</p>
</ion-content>
