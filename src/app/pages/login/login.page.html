<ion-header class="ion-no-border">
  <ion-toolbar></ion-toolbar>
  <ion-buttons slot="start">
    <ion-back-button defaultHref="inicio" text=""></ion-back-button>
  </ion-buttons>
</ion-header>

<ion-content>
  <ion-card class="ion-no-margin">
    <ion-img src="../../../assets/images/header2.png"></ion-img>
    <ion-card-content>
      <form (submit)="handleLogin()">
        <div class="ion-padding">
          <!-- Username or Email Input -->
          <ion-item>
            <ion-input 
              placeholder="Enter username or email" 
              [(ngModel)]="email" 
              name="username" 
              (focus)="emailTouched = true" 
              (blur)="validateEmail()">
            </ion-input>
            <ion-icon name="person-outline"></ion-icon>
          </ion-item>
          <p *ngIf="emailTouched && showEmailError" class="error-text">
            You can't leave this field empty.
          </p>

          <!-- Password Input -->
          <ion-item>
            <ion-input 
              [type]="showPassword ? 'text' : 'password'" 
              placeholder="Password" 
              [(ngModel)]="password" 
              name="passwordInput" 
              (focus)="passwordTouched = true" 
              (blur)="validatePassword()">
            </ion-input>
            <ion-icon 
              [name]="showPassword ? 'eye-outline' : 'eye-off-outline'" 
              slot="end" 
              (click)="togglePasswordVisibility()">
            </ion-icon>
          </ion-item>
          <p *ngIf="passwordTouched && showPasswordError" class="error-text">
            Password cannot be empty.
          </p>

          <!-- Forgot Password Link -->
          <div class="forgot-password">
            <a (click)="cambiar()">Forgot your password?</a>
          </div>

          <!-- Login Button -->
          <div class="sign-btn-wrap">
            <ion-button 
              shape="round" 
              type="submit" 
              fill="solid" 
              class="sign-btn">
              Log In
            </ion-button>
          </div>
        </div>
      </form>
    </ion-card-content>
  </ion-card>

  <!-- Register Footer -->
  <div class="ion-card-footer">
    <span>Don't have an account?</span>
    <button class="ion-no-padding" (click)="registro()">Register now!</button>
  </div>
</ion-content>
